# Environment Configuration for Travel Lotara
# Copy this file to .env and fill in your values

# ============================================
# ENVIRONMENT
# ============================================
ENVIRONMENT=development  # development, staging, production
DEBUG=true

# ============================================
# API CONFIGURATION
# ============================================
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# ============================================
# SECURITY (REQUIRED)
# ============================================
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET_KEY=your-secret-key-here-minimum-32-characters
ACCESS_TOKEN_EXPIRE_MINUTES=30

# ============================================
# DATABASE (SUPABASE)
# ============================================
# Get these from your Supabase project dashboard: Settings > API
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# Direct PostgreSQL connection (optional, for migrations/advanced queries)
# Format: postgresql://postgres.[project-ref]:[password]@aws-0-[region].pooler.supabase.com:6543/postgres
DATABASE_URL=postgresql://postgres:password@db.your-project-id.supabase.co:5432/postgres

# ============================================
# CACHE (Redis)
# ============================================
CACHE_ENABLED=true
REDIS_URL=redis://localhost:6379
CACHE_TTL=3600  # seconds (1 hour)

# ============================================
# MESSAGE QUEUE (RabbitMQ/Celery)
# ============================================
CELERY_BROKER=amqp://localhost:5672
CELERY_BACKEND=redis://localhost:6379/1

# ============================================
# EXTERNAL APIS
# ============================================
# Opik (Observability)
OPIK_API_KEY=your-opik-api-key
OPIK_PROJECT=travel-lotara-prod

# OpenAI
OPENAI_API_KEY=your-openai-api-key
GEMINI_API_KEY=your-gemini-api-key

# Amadeus (Flights)
AMADEUS_API_KEY=your-amadeus-api-key
AMADEUS_API_SECRET=your-amadeus-api-secret

# ============================================
# RESOURCE LIMITS
# ============================================
MAX_CONCURRENT_REQUESTS=100
MAX_CONCURRENT_PER_USER=3
REQUEST_TIMEOUT_SECONDS=600
REQUEST_QUEUE_SIZE=1000

# ============================================
# RATE LIMITING
# ============================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=10
RATE_LIMIT_PER_DAY=100

# ============================================
# COST MANAGEMENT
# ============================================
DEFAULT_MONTHLY_BUDGET_USD=100.0
FREE_TIER_DAILY_REQUESTS=10
PRO_TIER_DAILY_REQUESTS=100

# ============================================
# MONITORING
# ============================================
PROMETHEUS_ENABLED=true
METRICS_PORT=9090
LOG_LEVEL=INFO
SENTRY_DSN=  # Optional: For error tracking

# ============================================
# FEATURE FLAGS
# ============================================
ENABLE_CACHING=true
ENABLE_BACKGROUND_TASKS=true
ENABLE_METRICS=true
